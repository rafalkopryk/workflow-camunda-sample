@using MudBlazor;

@if (IsApplcationCancelAllowed)
{
    <MudButton Variant="Variant.Filled"
               Color="Color.Primary"
               OnClick="@HandleOnClick">
        Cancel Application
    </MudButton>
}

@code {
    [Parameter]
    public IWithCreditApplicationState CreditApplication { get; init; }

    [Parameter]
    public EventCallback OnCancelApplication { get; init; }

    private async Task HandleOnClick()
    {
        await OnCancelApplication.InvokeAsync();
    }

    public bool IsApplcationCancelAllowed => CreditApplication?.State.Level is Level.ApplicationRegistered or Level.DecisionGenerated;
}
